"use strict";(self.webpackChunkcoeqwal_website=self.webpackChunkcoeqwal_website||[]).push([[805],{805:(t,e,a)=>{a.a(t,(async(t,r)=>{try{a.r(e),a.d(e,{default:()=>b});var s=a(840),n=a(43),i=a(96),o=a(956),c=a(251),l=a(313),d=a(621),h=a(654),u=a(293),p=a(68),m=a(58),f=a(579),g=t([c,l,d,h,u,m]);[c,l,d,h,u,m]=g.then?(await g)():g;const y=(0,c.c)("objective"),x=window.innerWidth,w=window.innerHeight;function b(){const[t,e,a]=(0,o.iJ)({}),[r,c,g]=(0,o.iJ)([]),[v,b]=(0,n.useState)([]),[k,j]=(0,n.useState)(null),[L,M,A]=(0,o.iJ)(!1),[N,S]=(0,n.useState)((()=>{const t={};for(let e=0;e<m.ZS.length;e++)t[m.ZS[e]]=200;return t})),I=(0,n.useCallback)(s.m4Y().domain([w/y.height,w/y.groups[0].height]).range([.1,1]).clamp(!0),[]);(0,n.useEffect)((function(){document.querySelector("#mosaic-webgl").appendChild(p.Uk.domElement),s.Ltv("#mosaic-svg").attr("width",x).attr("height",w),p.UI.mount(s.Ltv(".bubbles-wrapper").node(),s.Ltv("#mosaic-svg").select(".svg-trans").node()),p.UI.setZoomFn((t=>{A.current||p.Q7.updateOutlineVisibility(I(t.k));for(const e of g.current)e(t)})),p.UI.setSize(x,w),p.Uk.setAnimationLoop((()=>{p.Uk.render(p.JH,p.UI.camera)})),Y(!1),e({state:"TutorialView"})}),[]);const Y=(0,n.useCallback)((function(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1?arguments[1]:void 0;const a=[0,.08*-y.height,p.UI.getZFromFarHeight(y.height)];if(t){const{start:t}=C(a,e);t()}else p.UI.callZoomFromWorldViewport({worldX:a[0],worldY:-a[1],farHeight:y.height}),e&&e()}),[]),C=(0,n.useCallback)((function(t,e){const a=p.UI.interpolateZoomCamera(t),r=a.duration/2;return{start:()=>{const t=s.O1W((s=>{const n=Math.min(s/r,1);p.UI.callZoom(a(n)),1===n&&(t.stop(),e&&e())}))},duration:r}}),[]),E=(0,n.useCallback)((function(t){c((e=>[...e,t]))}),[]);return(0,f.jsxs)(i.B.Provider,{value:{appWidth:x,appHeight:w,state:t,setState:e,activeWaterdrops:v,setActiveWaterdrops:b,setDisableCamAdjustments:M,waterdrops:y,scene:p.JH,camera:p.UI,renderer:p.Uk,pointsMesh:p.XA,dropsMesh:p.Q7,setGoBack:j,zoomTo:C,resetCamera:Y,getOutlineOpac:I,addZoomHandler:E,goals:N,setGoals:S},children:[(0,f.jsxs)("div",{className:"bubbles-wrapper",children:[(0,f.jsx)("div",{id:"mosaic-webgl",style:{display:"none"}}),(0,f.jsx)("svg",{id:"mosaic-svg",style:{display:"none"},children:(0,f.jsx)("g",{className:"svg-trans"})})]}),(0,f.jsx)(h.A,{}),(0,f.jsx)(l.A,{}),(0,f.jsx)(d.A,{}),(0,f.jsx)(u.A,{}),k&&(0,f.jsx)("button",{className:"go-back-btn",onClick:k,children:"\u2190"})]})}p.Uk.setSize(x,w),console.time("drops mesh creating"),p.Q7.createMesh(y),console.timeEnd("drops mesh creating"),r()}catch(v){r(v)}}))},96:(t,e,a)=>{a.d(e,{B:()=>r});const r=(0,a(43).createContext)({})},111:(t,e,a)=>{a.d(e,{A:()=>d});var r=a(840),s=a(43),n=a(684),i=a(579);const o=40,c=10,l=3;function d(t){let{levelInterp:e,colorInterp:a=n.YW,width:d=200,height:h=400,resolution:u=c}=t;const p=(0,s.useId)(),m=(0,s.useRef)(),f=(0,s.useMemo)((()=>(0,n.kd)(0,1-1/u,u).map((t=>e(t)))),[e,u]),g=(0,n.ZC)(f),v=d-2*l,y=h-l;return(0,s.useLayoutEffect)((()=>{const t=m.current.append("g").attr("class","svg-container").attr("transform","translate(".concat(l,", ").concat(l/2,")"));t.append("defs").append("clipPath").attr("id","bucket-mask-"+p).append("path").attr("class","bucket-mask-path"),t.append("g").attr("class","graph-area").attr("clip-path","url(#bucket-mask-".concat(p,")")),t.append("g").append("path").attr("class","bucket-outline").attr("stroke","lightgray").attr("stroke-linecap","round").attr("stroke-width",l).attr("fill","none")}),[p]),(0,s.useLayoutEffect)((()=>{const t=m.current.attr("width",d).attr("height",h).select(".svg-container");t.select(".bucket-mask-path").attr("d",(0,n.wh)(v,y)),t.select(".bucket-outline").attr("d",(0,n.wh)(v,y).split("z")[0])}),[d,h,v,y]),(0,s.useLayoutEffect)((()=>{const t=m.current.select(".graph-area").selectAll(".bucketBox").data(f).join("rect").attr("class","bucketBox").attr("width",2*v).attr("height",2*y).attr("x",-v/2).attr("fill",((t,e)=>a(e/(u-1))));t.transition("liquidLevel").ease(r.guX.period(.6)).delay(((t,e)=>e*(100/u))).duration(1e3).attr("y",(t=>y-t*y)),t.transition("liquidSway").duration(2e3).delay(((t,e)=>10*e)).ease(r.I1g).attrTween("transform",(function(t,e){const a=g?Math.abs(g[e]-t):0;return t=>"rotate(".concat(Math.sin(Math.min(4*Math.PI*t/(.5*a+.5),4*Math.PI))*a*o*(1-t),", ").concat(v/2,", ",0,")")}))}),[f,g,d,h,v,y,u,a]),(0,i.jsx)("div",{className:"bucket-wrapper",children:(0,i.jsx)("svg",{ref:t=>{m.current=r.Ltv(t)}})})}},987:(t,e,a)=>{a.d(e,{u:()=>n});var r=a(840),s=a(684);function n(t,e,a,n,i){const o=t.length/a;let c=r.JWi().value((t=>t)).domain(e).thresholds((0,s.kd)(...e,Math.ceil(n/(i/o))))(t),l=(0,s.Q2)(c,a,o),d=[];for(let r=0;r<l.length;r++)for(let e=0;e<l[r];e++)d.push([(c[r].x1+c[r].x0)/2,(e+.5)/o*t.length]);return d}},684:(t,e,a)=>{a.d(e,{Q2:()=>o,YW:()=>l,ZC:()=>c,kd:()=>n,wh:()=>i});var r=a(840),s=a(43);function n(t,e,a){return r.y17(a).map((r=>r/(a-1)*(e-t)+t))}function i(t,e){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.8,n=t*s+t*(1-s)/2,i=t*(1-s)/2,o=[{x:r.GWP(n,t)(a),y:r.GWP(e,0)(a)},{x:n,y:e},{x:i,y:e},{x:r.GWP(i,0)(a),y:r.GWP(e,0)(a)}];return r.n8j().x((function(t){return t.x})).y((function(t){return t.y}))(o)+"z"}function o(t,e,a){let s=t.map((t=>Math.round(t.length/e))),n=r.czq(s);for(;n>a;)s[r.z94(t,((t,a)=>0!==t.length?t.length/e-s[a]:1/0))]-=1,n=r.czq(s);for(;n<a;)s[r.P2Z(t,((t,a)=>0!==t.length?t.length/e-s[a]:-1/0))]+=1,n=r.czq(s);return s}function c(t,e){const a=(0,s.useRef)({value:t,prev:null}),r=a.current.value;return(e?e(t,r):t===r)||(a.current={value:t,prev:r}),a.current.prev}const l=t=>r.dM(r.m4Y([.2,1])(t))},342:(t,e,a)=>{a.a(t,(async(t,r)=>{try{a.d(e,{A:()=>f});var s=a(840),n=a(43),i=a(987),o=a(58),c=a(579),l=t([o]);o=(l.then?(await l)():l)[0];const h=20,u={top:10,right:10,bottom:20,left:10},p=[0,o.pk],m={draw:function(t,e){t.moveTo(0,-e/2),t.lineTo(e/4,-e/4),t.arc(0,0,e/Math.SQRT2/2,-Math.PI/4,5*Math.PI/4),t.lineTo(0,-e/2),t.closePath()}};function f(t){let{data:e,goal:a,setGoal:r,width:o=600,height:l=400,shortForm:d=!1}=t;const{current:f}=(0,n.useRef)(Math.floor(1e9*Math.random())),{current:g}=(0,n.useRef)(Math.floor(1e9*Math.random())),v=(0,n.useRef)(),y=(0,n.useMemo)((()=>(0,i.u)(e,p,e.length/h,o,l)),[e]),x=[0,e.length],w=s.m4Y().domain(p).range([0,o]),b=s.m4Y().domain(x).range([l,0]),k=y.filter((t=>t[0]>a)).length;return(0,n.useEffect)((()=>{v.current.attr("width",o+u.left+u.right).attr("height",l+u.top+u.bottom).style("pointer-events","none").append("g").attr("class","graph-area").attr("transform","translate(".concat(u.left,",").concat(u.top,")")).append("g").attr("transform","translate(0, ".concat(l,")")).call(s.l78().scale(s.m4Y().domain(p).range([0,o])).tickFormat(s.GPZ(".2s"))).call((t=>{t.selectAll("line").attr("stroke","gray"),t.selectAll("path").attr("stroke","gray"),t.selectAll("text").attr("fill","gray")})).append("text").attr("fill","black").attr("transform","translate(".concat(o/2,", ",30,")")).text("Delivery (TAF)");const t=document.querySelector("#i".concat(f));t.style.transform="translateX(".concat(s.m4Y().domain(p).range([u.left,o+u.left]).clamp(!0)(a),"px)");const e=t=>t.preventDefault();let n=!1;document.querySelector("#i".concat(f)).addEventListener("mousedown",(()=>{n=!0,window.addEventListener("selectstart",e)})),document.addEventListener("mouseup",(()=>{n=!1,window.removeEventListener("selectstart",e)})),document.querySelector("#i".concat(g)).addEventListener("mousemove",(e=>{n&&e.target.id==="i".concat(g)&&(t.style.transform="translateX(".concat(Math.min(Math.max(e.offsetX,u.left),u.left+o),"px)\n            "),r(s.m4Y().domain([u.left,o+u.left]).range(p).clamp(!0)(e.offsetX)))}))}),[]),(0,n.useEffect)((()=>{const t=v.current.select(".graph-area").selectAll(".icons").data(y).join((t=>t.append("g").call((t=>t.append("path"))))).attr("class","icons").call((t=>{t.selectAll("path").attr("d",s.HRO(m,l/h))}));t.attr("transform",(t=>"translate(".concat(w(t[0]),",").concat(b(t[1]),")"))),t.attr("fill",(t=>t[0]>a?"steelblue":"black"));document.querySelector("#i".concat(f)).style.transform="translateX(".concat(s.m4Y().domain(p).range([u.left,o+u.left]).clamp(!0)(a),"px)")}),[a,y]),(0,c.jsxs)("div",{className:"dot-".concat(g),id:"i".concat(g),children:[(0,c.jsx)("div",{className:"pdf-razor "+(d?"short-form":""),id:"i".concat(f),children:(0,c.jsxs)("div",{children:[(0,c.jsxs)("span",{children:[y.length-k," / ",h," ",d?"":"yrs WILL NOT meet demand"]}),(0,c.jsxs)("span",{children:[k," / ",h," ",d?"":"yrs WILL meet demand"]})]})}),(0,c.jsx)("svg",{ref:t=>{v.current=s.Ltv(t)}})]})}r()}catch(d){r(d)}}))},611:(t,e,a)=>{a.d(e,{A:()=>h});var r=a(840),s=a(43),n=a(684),i=a(972),o=(a(550),a(579));const c=40,l=10,d=3;function h(t){let{levelInterp:e,colorInterp:a=n.YW,width:h=200,height:u=400,resolution:p=l}=t;const m=(0,s.useId)(),f=(0,s.useRef)(),g=(0,s.useMemo)((()=>(0,n.kd)(0,1-1/p,p).map((t=>e(t)))),[e,p]),v=(0,n.ZC)(g),y=h-2*d,x=u-d;return(0,s.useLayoutEffect)((()=>{const t=f.current.append("g").attr("class","svg-container").attr("transform","translate(".concat(d,", ").concat(d/2,")"));t.append("defs").append("clipPath").attr("id","bucket-mask-"+m).append("path").attr("class","bucket-mask-path"),t.append("g").attr("class","graph-area").attr("clip-path","url(#bucket-mask-".concat(m,")")),t.append("g").append("path").attr("class","bucket-outline").attr("stroke","lightgray").attr("stroke-linecap","round").attr("stroke-width",d).attr("fill","none")}),[m]),(0,s.useLayoutEffect)((()=>{const t=f.current.attr("width",h).attr("height",u).select(".svg-container"),e=function(t,e){let[a,s]=e;const n=(0,i.bp)(0,1,t,20);return r.n8j().x((function(t){return t[0]+a})).y((function(t){return t[1]+s}))(n)+"z"}(x*(2*i.Yd)/i.IC,[h/2,u*i.Yd/i.IC]);t.select(".bucket-mask-path").attr("d",e),t.select(".bucket-outline").attr("d",e)}),[h,u,y,x]),(0,s.useLayoutEffect)((()=>{const t=f.current.select(".graph-area").selectAll(".bucketBox").data(g).join("rect").attr("class","bucketBox").attr("width",2*y).attr("height",2*x).attr("x",-y/2).attr("fill",((t,e)=>a(e/(p-1))));t.transition("liquidLevel").ease(r.guX.period(.6)).delay(((t,e)=>e*(100/p))).duration(1e3).attr("y",(t=>x-t*x)),t.transition("liquidSway").duration(2e3).delay(((t,e)=>10*e)).ease(r.I1g).attrTween("transform",(function(t,e){const a=v?Math.abs(v[e]-t):0;return t=>"rotate(".concat(Math.sin(Math.min(4*Math.PI*t/(.5*a+.5),4*Math.PI))*a*c*(1-t),", ").concat(y/2,", ",0,")")}))}),[g,v,h,u,y,x,p,a]),(0,o.jsx)("div",{className:"waterdrop-wrapper",children:(0,o.jsx)("svg",{ref:t=>{f.current=r.Ltv(t)}})})}},693:(t,e,a)=>{a.a(t,(async(t,r)=>{try{a.d(e,{R:()=>t});var s=a(956);const t=await async function(){const t=await(await fetch("./descriptions.json")).json();return console.log("DATA: loading descriptions data"),(0,s.Et)(t,(t=>{let{id:e}=t;return e}))}();r()}catch(n){r(n)}}),1)},58:(t,e,a)=>{a.a(t,(async(t,r)=>{try{a.d(e,{Sl:()=>d,Vk:()=>c,ZS:()=>h,Zl:()=>l,pk:()=>o,uV:()=>u,vR:()=>p,wP:()=>m});var s=a(840),n=a(550),i=a(956);const t=1,o=1200,c="scens",l="delivs",d=await async function(){const t=await(await fetch("./objectives.json")).json();for(const e of t){e[c]=e[c];for(const t of e[c]){const e=t[l].map((t=>(0,n.qE)(t,0,o)));t[l]=Array.from(e).sort(((t,e)=>e-t))}e[c]=(0,i.Et)(e[c],(t=>{let{name:e}=t;return e}))}return console.log("DATA: loading objectives data"),(0,i.Et)(t,(t=>{let{obj:e}=t;return e}))}(),h=Object.keys(d),u=Object.keys(Object.values(d)[0][c]).filter(((e,a)=>a%t===0)),[p,m]=function(){const t=[],e={objective:{},scenario:{}},a=[];let r=0;for(const i of h)for(const n of u){e.objective[i]||(e.objective[i]=[]),e.scenario[n]||(e.scenario[n]=[]),e.objective[i].push(r),e.scenario[n].push(r);const o=d[i][c][n][l];t.push({id:r,objective:i,scenario:n,deliveries:o}),a.push(s.i2o(o)),r++}const n={};for(const i of Object.keys(e)){const r=[];for(const n of Object.keys(e[i])){const o=e[i][n],c=o.sort(((t,e)=>a[e]-a[t]));r.push({key:n,sorted:c,mean:s.i2o(o.map((e=>t[e].deliveries)).flat())})}const o=r.sort(((t,e)=>e.mean-t.mean));n[i]={};for(let t=0;t<o.length;t++){const{key:e,sorted:a}=o[t],r={};for(let t=0;t<a.length;t++)r[a[t]]=t;n[i][e]=r,n[i][e].rank=t}}return[t,n]}();r()}catch(o){r(o)}}),1)},82:(t,e,a)=>{a.a(t,(async(t,r)=>{try{a.d(e,{KW:()=>t,X8:()=>n,Zy:()=>o,wU:()=>i});var s=a(956);const t=await async function(){const t=await(await fetch("./callite_spatial.json")).json();return console.log("DATA: loading callite spatial data"),t}(),n=(0,s.Et)(t.features,(t=>{let{properties:e}=t;return e.CalLiteID})),i=await async function(){const t=await(await fetch("./california.json")).json();return console.log("DATA: loading california spatial data"),t}(),o=[-119,37.7749];r()}catch(n){r(n)}}),1)},385:(t,e,a)=>{a.d(e,{Kn:()=>r,N3:()=>n,N7:()=>l,NU:()=>s,pC:()=>c,w5:()=>i,w9:()=>o});const r=5,s=1,n=.1,i=1.3,o=1.2,c=3,l=1.1/(1+Math.SQRT1_2)},68:(t,e,a)=>{a.d(e,{JH:()=>n,Q7:()=>i,UI:()=>c,Uk:()=>l,XA:()=>o});var r=a(408),s=(a(840),a(972));const n=function(){const t=new r.Z58;return t.background=new r.Q1f(15724527),t}(),i=new s.e8,o=new s._9,c=new s.i7({fov:45,near:1,far:3e3}),l=new r.JeP({antialias:!0})},251:(t,e,a)=>{a.a(t,(async(t,r)=>{try{a.d(e,{c:()=>u});var s=a(684),n=a(385),i=a(58),o=a(152),c=a(550),l=a(956),d=t([i,o]);function u(t){const e="objective"===t?i.ZS:i.uV,a="objective"===t?i.uV:i.ZS,r=(e.length,a.length),d=Math.sqrt(r/Math.PI)*n.NU*2*n.w5*n.w9,h=n.NU*n.w5,u=(0,c.hh)(0,0,e.map(((t,e)=>({r:d,id:e})))),p=(0,l.Et)(u,(t=>{let{id:e}=t;return e})),m=(0,c.hh)(0,0,a.map(((t,e)=>({r:h,id:e})))),f=(0,l.Et)(m,(t=>{let{id:e}=t;return e})),g=[],v=[],y={};for(const c of i.vR){const{id:e,objective:a,scenario:r,deliveries:l}=c,d=(0,o.Dy)(l,i.pk),h=(0,s.kd)(0,1,n.Kn+1).map((t=>d(t))).map(((t,e)=>Math.max(t,0==e?n.N3:0)*n.NU)),u="objective"===t?a:r,m="objective"===t?r:a,v=i.wP[t][u].rank,x=i.wP[t][u][e],w={id:e,levs:h,maxLev:n.NU,domLev:(0,o.Dq)(h),tilt:50*Math.random()-25,dur:100*Math.random()+400,x:f[x].x,y:f[x].y,group:u,key:m,globalX:p[v].x+f[x].x,globalY:p[v].y+f[x].y};g.push(w),y[u]||(y[u]=[]),y[u].push(w)}for(const s of e)v.push({x:p[i.wP[t][s].rank].x,y:p[i.wP[t][s].rank].y,tilt:50*Math.random()-25,key:s,height:m.height,nodes:y[s]});return{nodes:g,groups:v,height:u.height}}[i,o]=d.then?(await d)():d,r()}catch(h){r(h)}}))},152:(t,e,a)=>{a.a(t,(async(t,r)=>{try{a.d(e,{Dq:()=>d,Dy:()=>l});var s=a(840),n=a(684),i=a(58),o=t([i]);function l(t,e){return s.m4Y().domain((0,n.kd)(0,1,t.length)).range(t.map((t=>Math.min(1,t/e)))).clamp(!0)}function d(t){t=[1,...t,0];let e=0;for(let a=0;a<t.length-1;a++){e+=(t[a]-t[a+1])*(a-1)/(t.length+4)}return e}i=(o.then?(await o)():o)[0],r()}catch(c){r(c)}}))},550:(t,e,a)=>{a.d(e,{D5:()=>y,eh:()=>f,hh:()=>m,jF:()=>x,kt:()=>v,p6:()=>w,qE:()=>o,xg:()=>g});var r=a(840),s=a(783),n=a.n(s),i=a(972);function o(t,e,a){return Math.max(e,Math.min(a,t))}function c(t){const e=t/2,a=3*Math.PI/2/16,r=[{x:Math.cos(5*Math.PI/4)*e,y:Math.sin(5*Math.PI/4)*e},{x:0,y:-Math.SQRT2*e}];for(let s=0;s<=16;s++)r.push({x:Math.cos(s*a-Math.PI/4)*e,y:Math.sin(s*a-Math.PI/4)*e});return r}const l=function(){const t=c(3),e=c(1),a=[];for(let r=0;r<t.length-2;r++)a.push([t[r],t[r+(r<2?1:2)],e[r+(r<2?1:2)],e[r]]);return a}();let d,h,u,p;function m(t,e,a){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(s&&u&&a.length===p)return u;d&&a.length===h||(d=r.y17(4).map((()=>function(t,e){const a=n().Bounds.create(t),s=a.min.x,i=a.max.x,o=a.min.y,c=a.max.y,l=r.m4Y([s,i]),d=r.m4Y([o,c]),h=[];for(let r=0;r<e;r++)for(;;){const e=l(Math.random()),a=d(Math.random());if(n().Vertices.contains(t,{x:e,y:a})){h.push([e,a]);break}}return h}(c(1),h=a.length))));const o=function(t){const e=r.czq(t.map((t=>t**2*3.14)));return Math.floor(2*Math.sqrt(e/3.14)/2)}(a.map((t=>{let{r:e}=t;return e}))),m=d[Math.floor(Math.random()*d.length)].map((t=>{let[e,a]=t;return[e*o,a*o]})),f=n().Engine,g=n().Bodies,v=n().Composite,y=f.create(),x=m.sort(((t,e)=>e[1]-t[1])),w=a.map(((t,e)=>{let{r:a,id:r}=t;const[s,n]=x[e];return g.circle(s,n,a,{restitution:0,id:r})})),b=l.map((t=>n().Body.create({position:n().Vertices.centre(t),vertices:t,isStatic:!0}))),k=n().Body.create({isStatic:!0});n().Body.setParts(k,b),n().Body.setCentre(k,{x:0,y:0}),n().Body.scale(k,o,o),v.add(y.world,[...w,k]);for(let r=0,n=60,i=.1;r<n*i;r++)f.update(y,1e3/n);const j=w.map((a=>{let{position:r,id:s}=a;return{id:s,x:r.x+t,y:r.y+e}}));return j.height=o/2/i.Sz*i.IC,!s||u&&j.length===p||(u=j,p=j.length),j}function f(t){return t*Math.PI/180}function g(t,e){let[a,r]=t,[s,n]=e;return Math.sqrt(function(t,e){let[a,r]=t,[s,n]=e;return(s-a)**2+(n-r)**2}([a,r],[s,n]))}function v(t){return[t.left+t.width/2,t.top+t.height/2]}function y(t,e){let[a,r]=t;const s=Math.sqrt((a[0]-r[0])**2+(a[1]-r[1])**2),n=[(r[0]-a[0])/s,(r[1]-a[1])/s];return a[0]+=n[0]*e,a[1]+=n[1]*e,r[0]-=n[0]*e,r[1]-=n[1]*e,[a,r]}function x(t){let{rad:e,height:a}=t;return void 0!==e?.08*function(t){return(1+Math.SQRT2)*t}(e):.08*a}function w(t){return[r.i2o(t,(t=>t[0])),r.i2o(t,(t=>t[1]))]}},956:(t,e,a)=>{a.d(e,{Ee:()=>l,Et:()=>s,LV:()=>c,Ul:()=>n,ad:()=>o,iJ:()=>i});var r=a(43);function s(t,e){const a=Object.groupBy(t,e);for(const r of Object.keys(a))a[r]=a[r][0];return a}function n(t,e){return e=function(t){return"string"===typeof t?e=>function(t,e,a){var r;const s=e.split(".");for(let n of s){if(!t)return a;t=t[n]}return null!==(r=t)&&void 0!==r?r:a}(e,t):t}(e),t.sort(((t,a)=>{const r=e(t),s=e(a);return r<s?-1:r>s?1:0}))}function i(t){const[e,a]=(0,r.useState)(t),s=(0,r.useRef)(t);(0,r.useEffect)((()=>{s.current=e}),[e]);const n=(0,r.useCallback)((t=>{a("function"===typeof t?e=>s.current=t(e):s.current=t)}),[]);return[e,n,s]}function o(t,e){return t&&t.state===e}function c(t){return t.replace(/(?![^\n]{1,15}$)([^\n]{1,15})\s/g,"$1\n")}function l(){return Math.floor(1e9*Math.random())}},972:(t,e,a)=>{a.d(e,{IC:()=>p,JB:()=>L,Sz:()=>d,Yd:()=>h,_9:()=>k,bp:()=>y,e8:()=>b,i7:()=>j,js:()=>l});var r=a(840),s=a(408),n=a(684),i=a(385),o=a(956),c=a(550);const l="M0,-1L0.5,-0.5A0.707,0.707,0,1,1,-0.5,-0.5L0,-1Z",d=Math.SQRT1_2,h=1,u=d+d,p=h+d,m=(d+h/2)/p;function f(t){if(t>=m){return Math.SQRT1_2*(1-t)/(1-m)}const e=2*(1-t/(u/p))-1,a=Math.acos(e);return Math.sin(a)}function g(t){return(t-d/p)*(1+Math.SQRT2)}function v(t){return t/(1+Math.SQRT2)+d/p}function y(t,e){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;if(Math.abs(t-e)<.01)return[];const s=a/2/h*d,n=1/r,i=[],o=[];let c,l,u,p;for(let d=1;d<=Math.ceil(1/n)&&(c=f(t+(d-1)*n),l=g(t+(d-1)*n),u=f(t+d*n),p=g(t+d*n),!(v(p)>=e));d++){const t=[-c*s,-l*s],e=[c*s,-l*s],a=[u*s,-p*s],r=[-u*s,-p*s];i.push(e,a),o.push(t,r)}u=f(e),p=g(e);const m=[-c*s,-l*s],y=[c*s,-l*s],x=[u*s,-p*s],w=[-u*s,-p*s];return i.push(y,x),o.push(m,w),i.push(...o.reverse()),i}function x(t,e){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;if(Math.abs(t-e)<.01)return[];const r=a/2/h*d,s=.1,n=[];let i,o,c,l;for(let d=1;d<=Math.ceil(10)&&(i=f(t+(d-1)*s),o=g(t+(d-1)*s),c=f(t+d*s),l=g(t+d*s),!(v(l)>=e));d++){const t=[-i*r,-o*r],e=[i*r,-o*r],a=[c*r,-l*r],s=[-c*r,-l*r];n.push([t,e,a]),n.push([t,a,s])}c=f(e),l=g(e);const u=[-i*r,-o*r],p=[i*r,-o*r],m=[c*r,-l*r],y=[-c*r,-l*r];return n.push([u,p,m]),n.push([u,m,y]),n}class w{constructor(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.threeGeom=new s.LoY,this.triangleIdx=0,this.threeGeom.setAttribute("position",new s.THS(new Float32Array(3*t),3)),e&&this.threeGeom.setAttribute("color",new s.THS(new Float32Array(3*t),3)),this.positionAttribute=this.threeGeom.getAttribute("position"),this.colorAttribute=this.threeGeom.getAttribute("color")}addMeshCoords(t,e,a){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;for(let s=0;s<t.length;s++){const[n,i,o]=t[s];this.positionAttribute.setXYZ(3*this.triangleIdx+0,e.x+n[0],e.y-n[1],r),this.positionAttribute.setXYZ(3*this.triangleIdx+1,e.x+i[0],e.y-i[1],r),this.positionAttribute.setXYZ(3*this.triangleIdx+2,e.x+o[0],e.y-o[1],r),a&&(this.colorAttribute.setXYZ(3*this.triangleIdx+0,a.r,a.g,a.b),this.colorAttribute.setXYZ(3*this.triangleIdx+1,a.r,a.g,a.b),this.colorAttribute.setXYZ(3*this.triangleIdx+2,a.r,a.g,a.b)),this.triangleIdx++}}finish(){this.threeGeom.setDrawRange(0,3*this.triangleIdx)}}class b{constructor(){this.added=!1}createMesh(t){this.dropsMesh?this.updateMeshes(t):this.initializeMeshes(t)}draw(t){this.added||(t.add(this.dropsMesh),t.add(this.outlineMesh),this.added=!0)}remove(t){this.added&&(t.remove(this.dropsMesh),t.remove(this.outlineMesh),this.added=!1)}initializeMeshes(t){const e=new w(b.MAX_POINTS_DROPS),a=[],r=y(0,1,2*i.NU*.975);for(let o=0;o<t.nodes.length;o++){const{id:c,globalX:l,globalY:d,levs:h,maxLev:u}=t.nodes[o];for(let t=h.length-1;t>=0;t--){const a=x((t!==h.length-1?h[t+1]:0)/u,h[t]/u,2*i.NU),r=new s.Q1f((0,n.YW)(t/i.Kn));e.addMeshCoords(a,{x:l,y:-d},r,o%5/50+.02)}a.push(...r.map((t=>{let[e,a]=t;return new s.Pq0(l+e,-d-a,o%5/50+.01)})))}e.finish(),this.dropsMesh=new s.eaF(e.threeGeom,new s.V9B({vertexColors:!0,transparent:!0,opacity:1})),this.outlineMesh=new s.DXC((new s.LoY).setFromPoints(a),new s.mrM({color:13421772,transparent:!0,opacity:0}))}updateOutlineVisibility(t){this.outlineMesh&&(this.outlineMesh.material.opacity=t,this.outlineMesh.material.needsUpdate=!0)}updateVisibility(t){this.outlineMesh&&this.dropsMesh&&(this.outlineMesh.material.opacity=t,this.outlineMesh.material.needsUpdate=!0,this.dropsMesh.material.opacity=t,this.dropsMesh.material.needsUpdate=!0)}updateMeshes(t){}}b.MAX_POINTS_DROPS=78e5,b.MAX_POINTS_OUTLINE=52e5;class k{constructor(){this.added=!1,this.vertToId={},this.idToVert={}}draw(t){this.added||(t.add(this.mesh),this.added=!0)}remove(t){this.added&&(t.remove(this.mesh),this.added=!1)}createMesh(t){return this.mesh||this.initializeMesh(t),this.updateMesh(t),this.mesh}initializeMesh(t){const e=new s.LoY,a=[],r=[];for(let i=0;i<t.nodes.length;i++){const{id:e,globalX:o,globalY:c,levs:l,domLev:d}=t.nodes[i],h=d>0?(0,n.YW)(d):"white";a.push(o,-c,0);const u=new s.Q1f(h);r.push(u.r,u.g,u.b),this.vertToId[i]=e,this.idToVert[e]=i}const o=new s.BH$({size:2*i.NU,sizeAttenuation:!0,vertexColors:!0,map:(new s.Tap).load("drop.png"),transparent:!0});e.setAttribute("position",new s.THS(new Float32Array(a),3)),e.setAttribute("color",new s.THS(new Float32Array(r),3)),this.mesh=new s.ONl(e,o)}updateMesh(t){const e=this.mesh.geometry.getAttribute("position");for(let a=0;a<t.nodes.length;a++){const{id:r,globalX:s,globalY:n}=t.nodes[a],i=this.idToVert[r];e.setXY(i,s,-n)}e.needsUpdate=!0}updatePoints(t,e,a){const r=this.mesh.geometry.vertices;for(let s=0;s<t.nodes.length;s++){const{id:n}=t.nodes[s],i=this.idToVert[n],[o,c]=e[n],l=r[i].x,d=r[i].y;r[i].setX(l+a*o),r[i].setY(d-a*c)}this.mesh.geometry.verticesNeedUpdate=!0}intersectObject(t,e,a){const r=t.intersectObject(e,a,this.mesh);if(r[0]){const t=(0,o.Ul)(r,"distanceToRay")[0];return this.vertToId[t.index]}return null}}class j{constructor(t){let{fov:e,near:a,far:r}=t;this.raycaster=new s.tBo,this.fov=e,this.near=a,this.far=r}setZoomFn(t){this.zoom=r.s_O().on("zoom",(e=>{this.curTransform=e.transform,this._THREEZoomHandler(e.transform),r.Ltv(this._svgElement).attr("transform",e.transform),t&&t(e.transform)}))}callZoom(t){this.zoom.transform(this.view,r.GSI.translate(t.x,t.y).scale(t.k))}callZoomFromWorldViewport(t){let{worldX:e,worldY:a,farHeight:r}=t;const s=this.height/r,n=-e*s+this.width/2,i=a*s+this.height/2;this.callZoom({x:n,y:i,k:s})}getZFromFarHeight(t){return Math.tan((0,c.eh)(90-this.fov/2))*t/2}getFarHeightFromZ(t){return Math.tan((0,c.eh)(this.fov)/2)*t*2}interpolateZoomCamera(t){let[e,a,s]=t;const n=r.p7([this.camera.position.x,this.camera.position.y,this.height/this.curTransform.k],[e,-a,this.getFarHeightFromZ(s)]),i=t=>{const[e,a,r]=n(t),s=this.height/r;return{x:-e*s+this.width/2,y:a*s+this.height/2,k:s}};return i.duration=n.duration,i}mount(t,e){this.view=r.Ltv(t),this._svgElement=e}setSize(t,e){this.width=t,this.height=e,this.zoom=this.zoom.scaleExtent([this.getScaleFromZ(this.far),this.getScaleFromZ(this.near)]),this.camera=new s.ubm(this.fov,t/e,this.near,this.far+1),this.camera.position.set(0,0,this.far),this.view.call(this.zoom),this.zoom.transform(this.view,r.GSI.translate(this.width/2,this.height/2).scale(this.getScaleFromZ(this.far)))}_THREEZoomHandler(t){const e=t.k,a=-(t.x-this.width/2)/e,r=(t.y-this.height/2)/e,s=this.getZFromScale(e);this.camera.position.set(a,r,s)}getScaleFromZ(t){const e=this.fov/2,a=(0,c.eh)(e),r=2*(Math.tan(a)*t);return this.height/r}getZFromScale(t){const e=this.fov/2,a=(0,c.eh)(e);return this.height/t/(2*Math.tan(a))}intersectObject(t,e,a){return this.raycaster.setFromCamera({x:t,y:e},this.camera),this.raycaster.intersectObject(a)}}function L(t){t.attr("fill","transparent").attr("stroke","orange").attr("stroke-dasharray",3).attr("stroke-width",3).attr("vector-effect","non-scaling-stroke")}},293:(t,e,a)=>{a.a(t,(async(t,r)=>{try{a.d(e,{A:()=>x});var s=a(840),n=a(43),i=a(684),o=a(385),c=a(96),l=a(58),d=a(342),h=a(550),u=a(956),p=a(972),m=a(693),f=a(579),g=t([l,d,m]);[l,d,m]=g.then?(await g)():g;const y=o.pC/o.w5;function x(){const{state:t,setState:e,setGoBack:a,resetCamera:r,activeWaterdrops:i,waterdrops:m,camera:g,goals:v,setGoals:x,addZoomHandler:j}=(0,n.useContext)(c.B),[L,M]=(0,n.useState)(),[A,N]=(0,n.useState)([]),S=(0,n.useRef)(),I=(0,n.useRef)(),Y=(0,n.useRef)({}),[C,E]=(0,n.useState)(!1);return(0,n.useEffect)((function(){s.Ltv("#mosaic-svg").select(".svg-trans").append("g").attr("id","compare-group"),j((function(){E((t=>!t))})),window.addEventListener("mousemove",(t=>{void 0!==Y.current.startX&&(Y.current.deltaX=t.x-Y.current.startX,Y.current.deltaY=t.y-Y.current.startY,N((t=>{if(void 0===Y.current.startX)return t;const e=t.find((t=>t.id===Y.current.id));return e.offsetX=e.oldOffsetX+Y.current.deltaX,e.offsetY=e.oldOffsetY+Y.current.deltaY,[...t]})))})),window.addEventListener("mouseup",(t=>{void 0!==Y.current.startX&&(Y.current={})}))}),[]),(0,n.useEffect)((function(){if(L){const[t,e,a]=k(S.current,L);N((t=>a.map(((e,a)=>{let r=0,s=0;t[a]&&(r=t[a].offsetX,s=t[a].offsetY);const[n,i,o]=function(t,e){let[a,r]=t,[s,n]=e,i=a,o=r;const c=2*S.current.groups[0].height;return i<s?i-=c:i+=c,[i,o,i<s]}(S.current.groupPositions[a],I.current);return{text:e.key,x:n,y:i,id:S.current.groups[a].key,nodeID:e.id,isLeft:o,offsetX:r,offsetY:s}}))));const[r,n]=(0,h.p6)(Array.from(t)),i=S.current.groups[0].height*y/15,c=S.current.groups[0].height*y/10;s.Ltv("#compare-group").select("#member-label").text("scenario").attr("font-size",i).attr("text-anchor","middle").transition().duration(100).attr("x",r).attr("y",n-1.5*i),s.Ltv("#compare-group").select("#member-variable").attr("id","member-variable").attr("font-size",c).text(L.slice(4)).attr("text-anchor","middle").transition().duration(100).attr("x",r).attr("y",n),s.Ltv("#compare-group").selectAll(".circlet").data(t).join("circle").attr("class","circlet").call(p.JB).attr("display","initial").attr("r",1.5*o.NU).transition().duration(100).attr("cx",(t=>t[0])).attr("cy",(t=>t[1])),s.Ltv("#compare-group").selectAll(".comp-line").data(e).join("path").attr("class","comp-line").attr("stroke","orange").attr("stroke-dasharray",3).attr("opacity",.5).attr("stroke-width",1).attr("vector-effect","non-scaling-stroke").transition().duration(100).attr("d",(t=>s.n8j()(t)))}}),[L]),(0,n.useEffect)((function(){if((0,u.ad)(t,"CompareView")){const n=s.Ltv("#compare-group");return b(n,S.current=w(i,m,I.current=t.avgCoord),t.transitionDuration/5,{onHover:t=>{M(t.key)}}),n.append("text").attr("id","member-variable"),n.append("text").attr("id","member-label"),setTimeout((()=>{M(S.current.groups[0].nodes[0].key)}),t.transitionDuration+500),a((()=>()=>{e({state:"WideView"}),r()})),function(){n.selectAll(".large-drop").remove(),n.selectAll(".circlet").remove(),n.selectAll(".comp-line").remove(),n.select("#member-variable").remove(),n.select("#member-label").remove(),N([]),a(null)}}}),[t]),(0,f.jsx)(f.Fragment,{children:A.map(((t,e)=>{let{x:a,y:r,id:s,isLeft:n,offsetX:i,offsetY:o,nodeID:c}=t;return(0,f.jsx)("div",{className:"panel compare-panel"+(n?" left":""),style:{left:"".concat(a*g.curTransform.k+g.curTransform.x+i,"px"),top:"".concat(r*g.curTransform.k+g.curTransform.y+o,"px")},onMouseDown:t=>function(t,e){""!==t.target.className&&(Y.current={startX:t.clientX,startY:t.clientY,id:e},N((t=>{const a=t.find((t=>t.id===e));return a.oldOffsetX=a.offsetX,a.oldOffsetY=a.offsetY,[...t]})))}(t,s),children:(0,f.jsx)(d.A,{width:300,height:200,data:l.vR[c].deliveries,goal:v[s],setGoal:t=>{x((e=>(e[s]=t,{...e})))}})},e)}))})}function w(t,e,a){const r=e.groups.filter((e=>t.includes(e.key))),s=[],n=r[0].height*y*.75;for(let i=0,o=r.length;i<o;i++)s.push([a[0]+Math.cos(2*Math.PI/o*i)*n,a[1]+Math.sin(2*Math.PI/o*i)*n]);return{groups:r,groupPositions:s}}function b(t,e,a,r){let{onClick:n,onHover:c,onUnhover:l}=r;t.selectAll(".large-drop").data(e.groups).join((t=>t.append("g").attr("class","large-drop").each((function(t){let{nodes:e,height:a}=t;s.Ltv(this).call((t=>{t.append("text").style("font-size",a*y/15).attr("class","fancy-font water-group-label").attr("text-anchor","middle")})).selectAll(".small-drop").data(e).enter().append("g").attr("class","small-drop").each((function(t){let{levs:e}=t;const a=s.Ltv(this);a.append("rect").attr("class","bbox").style("visibility","hidden");const r=(0,u.Ee)(),n=s.Ltv(this).append("defs").append("linearGradient").attr("id","".concat(r)).attr("x1","0%").attr("x2","0%").attr("y1","0%").attr("y2","100%");n.append("stop").attr("stop-color","transparent"),n.append("stop").attr("stop-color","transparent"),e.forEach(((t,e)=>{for(let a=0;a<2;a++)n.append("stop").attr("stop-color",(0,i.YW)(e/o.Kn))})),a.append("path").attr("d",p.js).attr("class","outline").attr("fill","none").attr("stroke","lightgray").attr("stroke-width",.05),a.append("path").attr("class","fill").attr("d",p.js).attr("fill","url(#".concat(r,")"))}))})))).attr("display","initial").attr("transform",(t=>{let{x:e,y:a}=t;return"translate(".concat(e,", ").concat(a,")")})).each((function(t){let{nodes:e,key:r,height:i}=t;s.Ltv(this).call((t=>{const e=t.select("text");e.selectAll("*").remove();(0,u.LV)(m.R[r].display_name||m.R[r].id).split("\n").forEach(((t,a)=>{e.append("tspan").attr("x",0).attr("y",i/2*y).attr("dy","".concat(a,"em")).text(t)}))})).selectAll(".small-drop").data(e).attr("display","initial").attr("transform",(t=>{let{x:e,y:a}=t;return"translate(".concat(e,", ").concat(a,")")})).on("click",(function(t,e){n&&n(e)})).on("mouseenter",(function(t,e){c&&c(e)})).on("mouseleave",(function(t,e){l&&l(e)})).each((function(t,e){let{levs:a,maxLev:r}=t;const n=s.Ltv(this);n.select(".outline").attr("transform","scale(".concat(.95*o.NU,")")),n.select(".fill").attr("transform","scale(".concat(o.NU,")")),n.selectAll("stop").each((function(t,e){let n=Math.floor(e/2);0===e%2&&(n-=1),-1===n?s.Ltv(this).attr("offset","".concat(0,"%")):n===a.length?s.Ltv(this).attr("offset","100%"):s.Ltv(this).attr("offset","".concat(100*(1-a[n]/r),"%"))}));const i=n.select(".fill").node().getBBox();n.select(".bbox").attr("x",i.x).attr("y",i.y).attr("width",i.width).attr("height",i.height)})).transition().delay(a).duration(1e3).attr("transform",(t=>{let{x:e,y:a}=t;return"translate(".concat(e*y,", ").concat(a*y,")")}))})).transition().delay(a).duration(1e3).attr("transform",((t,a)=>"translate(".concat(e.groupPositions[a][0],", ").concat(e.groupPositions[a][1],")")))}function k(t,e){const a=[],r=[];for(let n=0;n<t.groups.length;n++){const s=t.groups[n],i=t.groupPositions[n],c=s.nodes.find((t=>t.key===e));r.push(c),a.push([c.x*y+i[0],c.y*y+i[1]-(0,h.jF)({rad:o.NU})])}const s=[];for(let n=0;n<a.length;n++){const t=Array.from(a[n]),e=Array.from(a[n+1==a.length?0:n+1]);(0,h.D5)([t,e],2*o.NU),s.push([t,e])}return[a,s,r]}r()}catch(v){r(v)}}))},621:(t,e,a)=>{a.a(t,(async(t,r)=>{try{a.d(e,{A:()=>x});var s=a(840),n=a(43),i=a(684),o=a(385),c=a(96),l=a(58),d=a(342),h=a(956),u=a(972),p=a(550),m=a(693),f=a(579),g=t([l,d,m]);[l,d,m]=g.then?(await g)():g;const y=o.pC/o.w5;function x(){const{state:t,setState:e,setGoBack:a,resetCamera:r,activeWaterdrops:i,waterdrops:o,camera:u,addZoomHandler:p,goals:g,setGoals:v}=(0,n.useContext)(c.B),[x,b,k]=(0,h.iJ)([]),[j,L,M]=(0,h.iJ)(null),[A,N]=(0,n.useState)([]),[S,I]=(0,n.useState)(!1),Y=(0,n.useRef)({});function C(t){const{globalX:e,globalY:a,x:r,y:s,id:n,key:i}=o.nodes[t];N((t=>[...t,{text:i.slice(4),x:e+r*(y-1),y:a+s*(y-1),offsetX:20,offsetY:40,id:n}]))}function E(t){const{id:e}=o.nodes[t];N((t=>(t.splice(t.findIndex((t=>t.id===e)),1),[...t])))}let T;return(0,n.useEffect)((function(){s.Ltv("#mosaic-svg").select(".svg-trans").append("g").attr("id","examine-group"),p((function(){I((t=>!t))})),window.addEventListener("mousemove",(t=>{void 0!==Y.current.startX&&(Y.current.deltaX=t.x-Y.current.startX,Y.current.deltaY=t.y-Y.current.startY,N((t=>{if(void 0===Y.current.startX)return t;const e=t.find((t=>t.id===Y.current.id));return e.offsetX=e.oldOffsetX+Y.current.deltaX,e.offsetY=e.oldOffsetY+Y.current.deltaY,[...t]})))})),window.addEventListener("mouseup",(t=>{void 0!==Y.current.startX&&(Y.current={})}))}),[]),(0,n.useEffect)((function(){if((0,h.ad)(t,"ExamineView")){const n=t.transitionDuration,c=s.Ltv("#examine-group");return w(c,o.groups.find((t=>t.key===i[0])).nodes,n/2,{onClick:t=>{b((e=>(e.includes(t.id)?(e.splice(e.indexOf(t.id),1),c.select(".circlet.i"+t.id).classed("active",!1),E(t.id)):(e.push(t.id),c.select(".circlet.i"+t.id).classed("active",!0),C(t.id)),[...e])))},onHover:t=>{k.current.includes(t.id)||(L(t.id),C(t.id))},onUnhover:t=>{M.current===t.id&&(L(null),E(t.id))}}),a((()=>()=>{e({state:"WideView"}),r()})),function(){c.selectAll(".small-drop").attr("display","none"),c.selectAll(".circlet").classed("active",!1).select("circle").attr("display","none"),N([]),b([]),L(null),a(null)}}}),[t]),(0,h.ad)(t,"ExamineView")&&i.length&&(T=(0,f.jsx)("h1",{className:"examine-large-label",children:m.R[i[0]].display_name||m.R[i[0]].id})),(0,f.jsxs)(f.Fragment,{children:[T,A.map((t=>{let{text:e,x:a,y:r,id:s,offsetX:n,offsetY:o}=t;return(0,f.jsxs)("div",{className:"panel",style:{left:"".concat(a*u.curTransform.k+u.curTransform.x+n,"px"),top:"".concat(r*u.curTransform.k+u.curTransform.y+o,"px")},onMouseDown:t=>function(t,e){""!==t.target.className&&(Y.current={startX:t.clientX,startY:t.clientY,id:e},N((t=>{const a=t.find((t=>t.id===e));return a.oldOffsetX=a.offsetX,a.oldOffsetY=a.offsetY,[...t]})))}(t,s),children:[(0,f.jsxs)("div",{className:"panel-tab",children:["scenario ",(0,f.jsx)("span",{children:e})]}),(0,f.jsx)(d.A,{width:300,height:200,data:l.vR[s].deliveries,goal:g[i[0]],setGoal:t=>{v((e=>(e[i[0]]=t,{...e})))}})]},s)}))]})}function w(t,e,a,r){let{onClick:n,onHover:c,onUnhover:l}=r;t.selectAll(".small-drop").data(e).join((t=>t.append("g").attr("class","small-drop").each((function(t,e){let{levs:a}=t;const r=s.Ltv(this);r.append("rect").attr("class","bbox").style("visibility","hidden");const n=s.Ltv(this).append("defs").append("linearGradient").attr("id","drop-fill-".concat(e)).attr("x1","0%").attr("x2","0%").attr("y1","0%").attr("y2","100%");n.append("stop").attr("stop-color","transparent"),n.append("stop").attr("stop-color","transparent"),a.forEach(((t,e)=>{for(let a=0;a<2;a++)n.append("stop").attr("stop-color",(0,i.YW)(e/o.Kn))})),r.append("path").attr("d",u.js).attr("class","outline").attr("fill","none").attr("stroke","lightgray").attr("stroke-width",.05),r.append("path").attr("class","fill").attr("d",u.js).attr("fill","url(#drop-fill-".concat(e,")")),r.append("g").attr("class","circlet").append("circle").call(u.JB).attr("display","none").attr("cy",-(0,p.jF)({rad:1})).attr("r",1.5)})))).attr("display","initial").attr("transform",(t=>{let{globalX:e,globalY:a}=t;return"translate(".concat(e,", ").concat(a,")")})).each((function(t,e){let{levs:a,maxLev:r,id:n}=t;const i=s.Ltv(this);i.select(".outline").attr("transform","scale(".concat(.95*o.NU,")")),i.select(".fill").attr("transform","scale(".concat(o.NU,")")),i.select(".circlet").attr("class",null).attr("class","circlet i"+n),i.selectAll("stop").each((function(t,e){let n=Math.floor(e/2);0===e%2&&(n-=1),-1===n?s.Ltv(this).attr("offset","".concat(0,"%")):n===a.length?s.Ltv(this).attr("offset","100%"):s.Ltv(this).attr("offset","".concat(100*(1-a[n]/r),"%"))}));const c=i.select(".fill").node().getBBox();i.select(".bbox").attr("x",c.x).attr("y",c.y).attr("width",c.width).attr("height",c.height)})).on("click",(function(t,e){n&&n(e)})).on("mouseenter",(function(t,e){s.Ltv(this).select(".circlet").classed("active")||s.Ltv(this).select("circle").attr("display","initial"),c&&c(e)})).on("mouseleave",(function(t,e){s.Ltv(this).select(".circlet").classed("active")||s.Ltv(this).select("circle").attr("display","none"),l&&l(e)})).transition().delay(a).duration(1e3).attr("transform",(t=>{let{globalX:e,globalY:a,x:r,y:s}=t;return"translate(".concat(e+r*(y-1),", ").concat(a+s*(y-1),") rotate(",0,")")}))}r()}catch(v){r(v)}}))},654:(t,e,a)=>{a.a(t,(async(t,r)=>{try{a.d(e,{A:()=>C});var s=a(840),n=a(43),i=a(999),o=a(96),c=a(956),l=a(632),d=a(58),h=a(684),u=a(111),p=a(611),m=a(342),f=a(579),g=t([d,m]);[d,m]=g.then?(await g)():g;const y=1921,x=s.z4u(["#F2F5FB","#D0DDEB","#7B9BC0","#4F739F","#112A57"]),w="demand",b="carryover",k="priority",j="regs",L="minflow",M={[w]:5,[b]:3,[k]:2,[j]:4,[L]:5},A={};Object.keys(M).forEach((t=>A[t]=s.WT_((0,h.kd)(0,1,M[t]))));const N={demand:1,carryover:1,priority:0,regs:0,minflow:0},S=[[1,1,1,0,0],[1,2,0,0,0],[1,1,0,0,4],[1,1,0,3,0]],I=S.map((t=>d.Sl.DEL_CVP_PAG_N[d.Vk][E(...t)][d.Zl])),Y=I.map((t=>s.m4Y().domain((0,h.kd)(0,1,t.length)).range(t.map((t=>t/d.pk)).sort().reverse()).clamp(!0)));function C(){const{waterdrops:t,state:e,setState:a,camera:r,zoomTo:g,setActiveWaterdrops:v,activeWaterdrops:w,setDisableCamAdjustments:b,getOutlineOpac:k,addZoomHandler:j}=(0,n.useContext)(o.B),[L,M]=(0,n.useState)(0),[A,C]=(0,n.useState)(200),[T,X]=(0,n.useState)((()=>s.m4Y().range([0,0]))),[P,F]=(0,n.useState)((()=>s.m4Y().range([0,0]))),[U,Z]=(0,n.useState)((()=>S.map((()=>s.m4Y().range([0,0]))))),V=(0,n.useRef)({}),O=800,W=400,D=30,B=30,z=30,H=60;(0,n.useEffect)((function(){}),[]),(0,n.useEffect)((function(){if((0,c.ad)(e,"TutorialView")){document.querySelector(".bucket-wrapper").style.display="none";const t=s.Ltv("#tut-bar-graph");s.Ubm(".vardrop").style("display","none"),s.Ubm(".vardrop p").style("display","none"),s.Ubm(".vardrop > :last-child").style("display","none"),s.Ltv(".main-histogram").style("display","none");const e=t.attr("width",O+H+B).attr("height",W+D+z).attr("opacity",1).append("g").attr("class","svg-group").attr("transform","translate(".concat(H,",").concat(D,")")),a=l.map(((t,e)=>({val:t,placeFromLeft:e,year:e+y}))).sort(((t,e)=>e.val-t.val)),r=s.WH().domain(a.map((t=>{let{year:e}=t;return e})).sort()).range([0,O]).padding(.4),n=s.m4Y().domain([0,d.pk]).range([W,0]),i=s.l78(r).tickSize(0).tickValues(r.domain().filter(((t,e)=>e%10===0)));return e.append("g").attr("class","anim-xaxis"),e.append("g").attr("class","axis-y"),e.select(".anim-xaxis").attr("opacity",1).attr("transform","translate(0, ".concat(W,")")).call(i).selectAll("text").attr("transform","translate(-10,0)rotate(-45)").style("text-anchor","end"),e.select(".axis-y").call(s.V4s(n)),V.current.x=r,V.current.xaxis=i,V.current.dataDescending=a,function(){s.Ltv(".tutorial-view").style("display","none"),s.Ltv("#mosaic-webgl").style("display","initial"),s.Ltv("#mosaic-svg").style("display","initial")}}}),[e]);const[R,_]=(0,n.useState)(null),G=(0,n.useRef)(-1),q=async t=>{let{data:e,direction:a}=t;if(_(e),"up"===a)return;if(e<=G.current)return;G.current=e;const r=s.Ltv(".svg-group"),{x:n,xaxis:i,dataDescending:o}=V.current,c=s.m4Y().domain([0,d.pk]).range([W,0]);if(2===e&&r.selectAll(".bars").data(o,(t=>t.placeFromLeft)).join("rect").attr("class","bars").attr("x",(t=>n(t.year))).attr("y",W).attr("width",n.bandwidth()).attr("height",0).attr("opacity",1).attr("fill","steelblue").transition().duration(500).delay((t=>10*t.placeFromLeft)).attr("y",(t=>c(t.val))).attr("height",(t=>W-c(t.val))),4===e){const t=100;r.select(".anim-xaxis").call(i.tickFormat(""));const e=r.selectAll(".bars");await e.style("mix-blend-mode","multiply").transition().duration(500).attr("opacity",.05).transition().delay((t=>100+1e3*(1-(1-t.placeFromLeft/o.length)**4))).duration(500).attr("width",t).attr("x",(e=>400-t/2)).end(),r.select(".anim-xaxis").transition().transition(500).attr("transform","translate(0, ".concat(450,")")).attr("opacity",0),e.transition().delay(500).attr("x",0),r.transition().delay(500).attr("transform","translate(".concat(H+400-t/2,",").concat(D,")"))}5===e&&(document.querySelector(".bucket-wrapper").style.display="initial",s.Ltv("#tut-bar-graph").attr("opacity",0),X((()=>s.m4Y().domain((0,h.kd)(0,1,d.Sl.DEL_CVP_PAG_N[d.Vk][E(...Object.values(N))][d.Zl].length)).range(d.Sl.DEL_CVP_PAG_N[d.Vk][E(...Object.values(N))][d.Zl].map((t=>t/d.pk)).sort().reverse()).clamp(!0)))),6===e&&F((()=>s.m4Y().domain((0,h.kd)(0,1,d.Sl.DEL_CVP_PAG_N[d.Vk][E(...Object.values(N))][d.Zl].length)).range(d.Sl.DEL_CVP_PAG_N[d.Vk][E(...Object.values(N))][d.Zl].map((t=>t/d.pk)).sort().reverse()).clamp(!0))),8===e&&s.Ubm(".vardrop").style("display","initial"),9===e&&(s.Ubm(".vardrop path").style("stroke-dasharray","none"),Z(Y)),10===e&&s.Ubm(".vardrop p").style("display","block"),11===e&&s.Ltv(".drop1").classed("highlighted",!0),12===e&&(s.Ltv(".drop1").classed("highlighted",!1),s.Ltv(".drop1-border").style("visibility","hidden"),s.Ubm(".vardrop p").style("opacity","0.5"),s.Ubm(".vardrop p, .vardrop span").style("color","gray"),s.Ubm(".drop1 > :first-child, .drop3 > :first-child").transition().style("transform","translate(-50px, 15px) scale(0.5)"),s.Ubm(".drop2 > :first-child, .drop4 > :first-child").transition().style("transform","translate(50px, 15px) scale(0.5)"),s.Ltv(".main-histogram").style("display","initial"),s.Ltv(".main-waterdrop").transition().style("transform","translateY(-100px) scale(0.5)"),s.Ubm(".vardrop > :last-child").style("display","initial"),s.Ubm(".vardrop > :last-child").style("display","initial"))};if((0,c.ad)(e,"TutorialView"))return(0,f.jsxs)("div",{className:"tutorial-view",children:[(0,f.jsxs)("div",{className:"card1",children:[(0,f.jsxs)("p",{children:[(0,f.jsx)("em",{children:"How much water do the people of California get?"})," For starters, let's focus on the agriculture sector in the north of the delta."]}),(0,f.jsx)("img",{src:"./northdelta.png",alt:"Map of California with northern delta area highlighted"})]}),(0,f.jsxs)("div",{className:"scrollama scrollama-1",children:[(0,f.jsxs)("div",{className:"tut-graph-wrapper",children:[(0,f.jsx)("svg",{id:"tut-bar-graph"}),(0,f.jsx)(u.A,{levelInterp:T,width:300,height:W,colorInterp:x})]}),(0,f.jsxs)(i.h,{offset:.5,onStepEnter:q,children:[(0,f.jsx)(i.p,{data:2,children:(0,f.jsxs)("div",{className:"tut-text-card",children:["This is the average yearly amount of water this group receives, specifically from the ",(0,f.jsx)("b",{children:"Central Valley Project"}),", one of two water municipalities in California."]})},2),(0,f.jsx)(i.p,{data:3,children:(0,f.jsx)("div",{className:"tut-text-card",children:"Here, it is presented as a bar graph, with the bottom axis representing the year and the side axis representing the amount of water in thousand acre-feet (TAF)."})},3),(0,f.jsx)(i.p,{data:4,children:(0,f.jsx)("div",{className:"tut-text-card",children:"We'll condense this bar graph into a single bar with a filled gradient."})},4),(0,f.jsx)(i.p,{data:5,children:(0,f.jsx)("div",{className:"tut-text-card",style:{marginBottom:"80vh"},children:"What we get is a bucket of water showing which water levels are most likely, with the darker areas being the most likely water levels."})},5)]})]}),(0,f.jsxs)("div",{className:"scrollama scrollama-2",children:[(0,f.jsxs)("div",{className:"tut-drop-graphics-wrapper",children:[(0,f.jsx)("div",{className:"main-waterdrop",children:(0,f.jsx)(p.A,{levelInterp:P,width:400,height:W,colorInterp:x})}),(0,f.jsx)("div",{className:"main-histogram",children:(0,f.jsx)(m.A,{width:210,height:140,data:d.Sl.DEL_CVP_PAG_N[d.Vk][E(...Object.values(N))][d.Zl],goal:A,setGoal:t=>{C(t)}})}),(0,f.jsxs)("div",{className:"vardrop drop1",children:[(0,f.jsx)(p.A,{levelInterp:U[0],width:400,height:800/3,colorInterp:x}),(0,f.jsxs)("p",{children:["scenario ",(0,f.jsx)("span",{className:"scen-number",children:"0180"})]}),(0,f.jsx)(m.A,{shortForm:!0,width:210,height:140,data:I[0],goal:A,setGoal:t=>{C(t)}})]}),(0,f.jsxs)("div",{className:"vardrop drop2",children:[(0,f.jsx)(p.A,{levelInterp:U[1],width:400,height:800/3,colorInterp:x}),(0,f.jsxs)("p",{children:["scenario ",(0,f.jsx)("span",{className:"scen-number",children:"0200"})]}),(0,f.jsx)(m.A,{shortForm:!0,width:210,height:140,data:I[1],goal:A,setGoal:t=>{C(t)}})]}),(0,f.jsxs)("div",{className:"vardrop drop3",children:[(0,f.jsx)(p.A,{levelInterp:U[2],width:400,height:800/3,colorInterp:x}),(0,f.jsxs)("p",{children:["scenario ",(0,f.jsx)("span",{className:"scen-number",children:"0164"})]}),(0,f.jsx)(m.A,{shortForm:!0,width:210,height:140,data:I[2],goal:A,setGoal:t=>{C(t)}})]}),(0,f.jsxs)("div",{className:"vardrop drop4",children:[(0,f.jsx)(p.A,{levelInterp:U[3],width:400,height:800/3,colorInterp:x}),(0,f.jsxs)("p",{children:["scenario ",(0,f.jsx)("span",{className:"scen-number",children:"0175"})]}),(0,f.jsx)(m.A,{shortForm:!0,width:210,height:140,data:I[3],goal:A,setGoal:t=>{C(t)}})]})]}),(0,f.jsxs)(i.h,{offset:.5,onStepEnter:q,children:[(0,f.jsx)(i.p,{data:6,children:(0,f.jsx)("div",{className:"tut-text-card",children:"Here it is as a drop of water. We see here that the lightest color reaches the midpoint of the maximum water possible, meaning that there is a chance that this group will receive 600 TAF of water."})},6),(0,f.jsx)(i.p,{data:7,children:(0,f.jsx)("div",{className:"tut-text-card",children:"The darker colors, however, indicate that it's more likely this group will receive less than a quarter of the maximum, or around 300 TAF. As we'll later see, this is not a lot compared to other areas of California."})},7),(0,f.jsx)(i.p,{data:8,children:(0,f.jsxs)("div",{className:"tut-text-card",children:["But what if we could ",(0,f.jsx)("em",{children:"change reality"}),"? What if we could increase the likelihood of getting as much water as possible by changing the way we manage it?"]})},8),(0,f.jsx)(i.p,{data:9,children:(0,f.jsxs)("div",{className:"tut-text-card",children:["Fortunately, we can explore those possibilities with the help of a simulator called",(0,f.jsx)("b",{children:" CalSim"}),"."]})},9),(0,f.jsx)(i.p,{data:10,children:(0,f.jsxs)("div",{className:"tut-text-card",children:["These variations are called ",(0,f.jsx)("em",{children:"scenarios"})," and are labelled with unique numbers."]})},10),(0,f.jsx)(i.p,{data:11,children:(0,f.jsx)("div",{className:"tut-text-card",children:"At a glance, we can easily see that scenario 0180 appears to be the best scenario since the darker water levels reach higher than those of the other scenarios. To more concretely compare these scenarios, however, we'll use a different view."})},11),(0,f.jsx)(i.p,{data:12,children:(0,f.jsx)("div",{className:"tut-text-card",style:{marginBottom:"120vh"},children:"Try moving the red line to change the minimum demand and see how well each of these scenarios meet those demands."})},12)]})]}),(0,f.jsx)("div",{children:(0,f.jsxs)("div",{className:"tut-text-card",children:["What are the ways we can manage California's water, and what are their outcomes? Go to the next step to find out!",(0,f.jsx)("button",{className:"fancy-font",onClick:()=>a({state:"WideView"}),children:"click to explore!"})]})})]})}function E(t,e,a,r,n){let i=0;i+=n,i+=M.minflow*r,i+=M.regs*M.minflow*a,i+=M.priority*M.regs*M.minflow*e,i+=M.carryover*M.priority*M.regs*M.minflow*t;return"expl".concat(s.GPZ("0>4")(i))}r()}catch(v){r(v)}}))},313:(t,e,a)=>{a.a(t,(async(t,r)=>{try{a.d(e,{A:()=>x});var s=a(840),n=a(43),i=a(128),o=a(385),c=a(96),l=a(693),d=a(82),h=a(68),u=a(550),p=a(956),m=a(972),f=a(579),g=t([l,d]);[l,d]=g.then?(await g)():g;const y=o.pC/o.w5;function x(){const{waterdrops:t,state:e,setState:a,camera:r,zoomTo:o,setActiveWaterdrops:m,activeWaterdrops:g,setDisableCamAdjustments:v,getOutlineOpac:x,addZoomHandler:b}=(0,n.useContext)(c.B),[k,j]=(0,n.useState)([]),[L,M,A]=(0,p.iJ)(!1),[N,S]=(0,n.useState)({zoom:1,mouseX:0,mouseY:0}),[I,Y]=(0,n.useState)(null);(0,n.useEffect)((function(){s.Ltv("#mosaic-svg").select(".svg-trans").append("g").attr("id","wide-group"),b((function(t){S((e=>({...e,zoom:t.k})))}));const t=t=>{S((e=>({...e,mouseX:t.x,mouseY:t.y})))};window.addEventListener("mousemove",t);const e=s.Ltv("#minimap").attr("width",200).attr("height",250),a=s.bAh().scale(1e3).center(d.Zy).translate([100,125]),r=[...d.KW.features.filter((t=>"MultiPolygon"===t.geometry.type)),d.wU],n=d.KW.features.filter((t=>"MultiPoint"===t.geometry.type));return e.selectAll("path").data(r).join("path").attr("d",(t=>s.zFW().projection(a)(t))).attr("class",(t=>"outline "+t.properties.CalLiteID)).attr("stroke",(t=>t.properties.CalLiteID?"transparent":"lightgray")).attr("stroke-width",1).attr("fill","transparent"),e.selectAll("circle").data(n).join("circle").each((function(t){const e=s.Ltv(this),[r,n]=a(t.geometry.coordinates[0]);e.attr("cx",r),e.attr("cy",n)})).attr("r",2).attr("class",(t=>"outline "+t.properties.CalLiteID)).attr("fill","transparent"),s.Ltv(".infobox").style("display","none"),function(){window.removeEventListener("mousemove",t)}}),[]),(0,n.useEffect)((function(){s.Ltv(".infobox").attr("display","none"),A.current&&s.Ltv("#wide-group").selectAll("text").each((function(){const e=s.Ltv(this),a=e.node(),[n,i]=(0,u.kt)(a.getBoundingClientRect()),o=a.getBBox().width*r.height/r.far*8,c=a.getBBox().height*r.height/r.far*10,l=(0,u.xg)([n,i],[N.mouseX,N.mouseY]);e.attr("font-size",((e,a)=>{const n=window.innerHeight/9,i=1/a*r.height/t.height;return((o=e*i)>n?0:s.m4Y().domain([0,n]).range([1,.4]).clamp(!0)(o))*Math.min(i,.4);var o})(l,N.zoom)),s.Ltv(this.parentNode.parentNode).select("image").attr("x",-o/2).attr("y",-c/2).attr("width",o).attr("height",c)}))}),[N]),(0,n.useEffect)((function(){if((0,p.ad)(e,"WideView")){s.Ltv("body").style("overflow","hidden"),M(!0),S((t=>({...t,zoom:r.curTransform.k}))),console.time("drawing"),h.Q7.draw(h.JH),console.timeEnd("drawing");const e=x(r.curTransform.k);h.Q7.updateVisibility(1),h.Q7.updateOutlineVisibility(e);const a=s.Ltv("#wide-group");s.Ltv(".infobox").style("display","initial"),s.Ltv("#mosaic-webgl").style("display","initial"),s.Ltv("#mosaic-svg").style("display","initial"),w(a,t,{onClick:t=>{j((e=>{const a=e.findIndex((e=>e.key===t.key));return-1!==a?e.splice(a,1):e.push(t),[...e]})),m((e=>(e.includes(t.key)?(e.splice(e.indexOf(t.key),1),a.select(".circlet."+t.key).classed("active",!1)):(e.push(t.key),a.select(".circlet."+t.key).classed("active",!0)),[...e])))},onHover:t=>{Y({id:t.key,description:l.R[t.key].desc}),d.X8[t.key]&&s.Ltv("#minimap").select(".outline."+t.key).attr("fill","gray")},onUnhover:t=>{Y(null),d.X8[t.key]&&s.Ltv("#minimap").select(".outline."+t.key).attr("fill","transparent")}});for(const t of k)a.select(".circlet."+t.key).classed("active",!0);return function(){s.Ltv("#wide-group").selectAll(".large-drop").attr("display","none"),s.Ltv(".infobox").style("display","none"),M(!1)}}}),[e]);const C=(0,n.useCallback)((function(){if(1===k.length){const{x:t,y:e,height:n}=k[0],{start:i,duration:c}=o([t,e-(0,u.jF)({height:n}),r.getZFromFarHeight(n*y*1.5)],(()=>{v(!1)}));i(),a({state:"ExamineView",transitionDuration:c});const l=x(r.curTransform.k);v(!0);const d=s.O1W((t=>{const e=Math.min(1,t/(c/2));h.Q7.updateVisibility(1-e),h.Q7.updateOutlineVisibility(l*(1-e)),e>=1&&(d.stop(),h.Q7.remove(h.JH))}))}else if(k.length>1){const[e,n]=(0,u.p6)(k.map((t=>[t.x,t.y]))),{start:i,duration:c}=o([e,n,r.getZFromFarHeight(2*t.groups[0].height*y*.75*2)],(()=>{v(!1)}));i(),a({state:"CompareView",transitionDuration:c,avgCoord:[e,n]});const l=x(r.curTransform.k);v(!0);const d=s.O1W((t=>{const e=Math.min(1,t/(c/5));h.Q7.updateVisibility(1-e),h.Q7.updateOutlineVisibility(l*(1-e)),e>=1&&(d.stop(),h.Q7.remove(h.JH))}))}}),[k]);let E;return(0,p.ad)(e,"WideView")&&g.length&&(E=(0,f.jsxs)("button",{onClick:C,className:"wide-view-action-btn fancy-font",children:[1===g.length?(0,f.jsx)(i.WEK,{}):(0,f.jsx)(i.IS1,{}),1===g.length?"examine":"compare"]})),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:"infobox",children:[(0,f.jsx)("svg",{id:"minimap"}),I&&(0,f.jsxs)("div",{className:"details",children:[!d.X8[I.id]&&(0,f.jsx)("p",{className:"no-loc-data",children:"No Location Data"}),(0,f.jsx)("p",{className:"curDesc",children:I.description}),(0,f.jsxs)("p",{className:"curKey",children:["id: ",(0,f.jsxs)("span",{children:[" ",I.id," "]})]})]})]}),E]})}function w(t,e,a){let{onClick:r,onHover:n,onUnhover:i}=a;t.selectAll(".large-drop").data(e.groups).join((t=>t.append("g").attr("class","large-drop").each((function(){const t=s.Ltv(this);t.append("g").attr("class","circlet").append("circle").call(m.JB).attr("display","none").attr("r",1);const e=t.append("g");e.append("g").append("image").attr("href","glow.png").attr("preserveAspectRatio","none").attr("opacity",.8),e.append("g").append("text").attr("class","fancy-font").attr("text-anchor","middle").attr("font-size",0)})))).each((function(t){s.Ltv(this).select(".circlet").attr("class",null).attr("class","circlet "+t.key),s.Ltv(this).select("text").call((e=>{e.selectAll("*").remove();const a=(0,p.LV)(l.R[t.key].display_name||l.R[t.key].id).split("\n");a.forEach(((t,r)=>{e.append("tspan").attr("x",0).attr("y","".concat(-a.length/2+.5,"em")).attr("dy","".concat(r,"em")).text(t)}))}))})).attr("display","initial").attr("transform",(t=>{let{x:e,y:a,height:r}=t;return"translate(".concat(e,", ").concat(a-(0,u.jF)({height:r}),") scale(").concat(r*o.N7,")")})).on("click",(function(t,e){r&&r(e)})).on("mouseenter",(function(t,e){s.Ltv(this).select(".circlet").classed("active")||s.Ltv(this).select("circle").attr("display","initial"),n&&n(e)})).on("mouseleave",(function(t,e){s.Ltv(this).select(".circlet").classed("active")||s.Ltv(this).select("circle").attr("display","none"),i&&i(e)}))}r()}catch(v){r(v)}}))},632:t=>{t.exports=JSON.parse("[24.202718,437.8589938749999,307.66553541666667,0,427.9951433333333,108.04862025,430.08191080000006,201.4066308333333,0,103.46674308333333,0,0,0,0,197.59285279999997,178.03293714166662,165.09586925,435.31730647500007,162.72410858333333,391.52669783333334,440.50514858333327,437.3274258333333,210.85067053333333,154.299011,232.61996086166664,323.70050899999995,235.0913693166667,421.19460116666664,222.39314460000003,193.8157494333333,291.6198800833333,440.83805749999993,426.07666133333333,411.3080375,166.30061175,420.5960875833334,326.4908101416667,436.43613666666664,265.4286333333334,124.70280279583334,180.66628333333335,260.87024333333335,438.98055475,147.75793233333334,250.90506816666667,308.0962029166667,437.3881598333333,219.2024653191667,441.03781307500003,191.42755048333333,400.45556295000006,198.31534027500004,270.0327198333334,433.54571597499995,428.48150274999995,54.74752190833333,0.24391335,436.09306416666664,342.00168099999996,264.5974971666667,292.1840384166666,432.05240999999995,440.17488083333325,354.15387616666663,224.20169316666667,124.78608286666666,166.47903765499998,70.71154433333334,149.83659987000001,0,0,45.76068925833334,433.1150233333333,161.53726375,435.99514291666674,430.82717533333334,244.34904333333336,430.91625116666665,433.4595416666666,434.5097083833332,116.49048255499999,349.02225666666664,581.3242788888889]")}}]);
//# sourceMappingURL=805.c9abcf7b.chunk.js.map